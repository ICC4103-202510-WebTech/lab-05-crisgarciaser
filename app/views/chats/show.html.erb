<h1>Chat Details</h1>

<div class="card">
  <div class="card-body">
    <p><strong>ID:</strong> <%= @chat.id %></p>
    <p><strong>Sender:</strong> <%= @chat.sender.full_name %></p>
    <p><strong>Receiver:</strong> <%= @chat.receiver.full_name %></p>
    <p><strong>Created At:</strong> <%= @chat.created_at %></p>
    <p><strong>Updated At:</strong> <%= @chat.updated_at %></p>

    <h4 class="mt-4">Messages in this chat:</h4>
    <ul>
      <% @chat.messages.each do |message| %>
        <li>
          <strong><%= message.user.full_name %>:</strong>
          <%= message.body %>
          <small>(<%= message.created_at %>)</small>
        </li>
      <% end %>
    </ul>

    <% if can?(:update, @chat) %>
      <%= link_to 'Edit', edit_chat_path(@chat), class: 'btn btn-primary' %>
    <% end %>
    <%= link_to 'Back to Chats', chats_path, class: 'btn btn-secondary' %>
  </div>
</div>