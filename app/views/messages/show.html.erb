<h1>Message Details</h1>

<div class="card">
  <div class="card-body">
    <p><strong>ID:</strong> <%= @message.id %></p>
    <p><strong>Chat:</strong> <%= link_to "Chat ##{@message.chat_id}", chat_path(@message.chat) if can?(:read, @message.chat) %></p>
    <p><strong>Sender:</strong> <%= @message.user.full_name %></p>
    <p><strong>Content:</strong> <%= @message.body %></p>
    <p><strong>Created At:</strong> <%= @message.created_at %></p>
    <p><strong>Updated At:</strong> <%= @message.updated_at %></p>

    <div class="mt-3">
      <% if can?(:update, @message) %>
        <%= link_to 'Edit', edit_message_path(@message), class: 'btn btn-primary' %>
      <% end %>
      <% if can?(:destroy, @message) %>
        <%= link_to 'Delete', message_path(@message), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
      <% end %>
      <%= link_to 'Back to Messages', messages_path, class: 'btn btn-secondary' %>
    </div>
  </div>
</div>